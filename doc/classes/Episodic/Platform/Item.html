<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: Episodic::Platform::Item [Episodic Platform GEM documentation]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          Episodic::Platform::Item
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../../files/lib/episodic/platform/query_methods_rb.html">lib/episodic/platform/query_methods.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong>Object</strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            <a href="Base.html">Base</a> class for parsed items from a query response.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M000038">new</a></li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000040">exists?</a></li>
              <li><a href="#M000039">id</a></li>
              <li><a href="#M000043">method_missing</a></li>
              <li><a href="#M000042">players</a></li>
              <li><a href="#M000044">respond_to?</a></li>
              <li><a href="#M000041">thumbnails</a></li>
            </ol>
            <h3>protected instance</h3>
            <ol>
              <li><a href="#M000047">boolean_fields</a></li>
              <li><a href="#M000046">date_fields</a></li>
              <li><a href="#M000048">integer_fields</a></li>
              <li><a href="#M000045">nested_items</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M000038'>
                <a name='M000038'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>(item)</span>
                </div>
                <div class='description'>
                  <p>
                  Constructor
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">item<Hash>:</td><td>The parsed item in the response. This may be a show, episode or playlist
                  item.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000038-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000038-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 315</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">item</span>)&#x000A;        <span class="ruby-keyword kw">super</span>()&#x000A;        <span class="ruby-ivar">@item</span> = <span class="ruby-identifier">item</span>&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000040'>
                <a name='M000040'></a>
                <div class='synopsis'>
                  <span class='name'>exists?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  When requesting specific items in a query it may be the case that the item
                  specified could not be found. In this case the XML returned looks something
                  like the following for the item:
                  </p>
                  <pre>&lt;id&gt;adfadsfasdf&lt;/id&gt;&#x000A;&lt;error&gt;&#x000A;  &lt;code&gt;6&lt;/code&gt;&#x000A;  &lt;message&gt;Show not found&lt;/message&gt;&#x000A;&lt;/error&gt;</pre>
                  <p>
                  Therefore, this method allows the caller to check if the item actually
                  exists before trying to pull out other properties that will result in an
                  exception. You really only need to use this method when you make a query
                  request with IDs specified.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Boolean:</td><td><tt>true</tt> if the item was found and requests for other attributes will
                  succeed.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000040-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000040-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 349</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exists?</span>&#x000A;        <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@item</span>[<span class="ruby-value str">&quot;error&quot;</span>].<span class="ruby-identifier">nil?</span>  &#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000039'>
                <a name='M000039'></a>
                <div class='synopsis'>
                  <span class='name'>id</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Explcitly declare to avoid <tt>warning: Object#id will be deprecated; use
                  Object#object_id</tt>.
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">String:</td><td>The id of the item.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000039-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000039-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 327</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id</span>&#x000A;        <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@item</span>[<span class="ruby-value str">&quot;id&quot;</span>]  &#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000043'>
                <a name='M000043'></a>
                <div class='synopsis'>
                  <span class='name'>method_missing</span>
                  <span class='arguments'>(method_sym, *arguments, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Overridden to pull properties from the item.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000043-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000043-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 380</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">method_sym</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">arguments</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;        <span class="ruby-identifier">method_name</span> = <span class="ruby-identifier">method_sym</span>.<span class="ruby-identifier">to_s</span>&#x000A;        &#x000A;        <span class="ruby-identifier">value</span> = <span class="ruby-ivar">@item</span>[<span class="ruby-identifier">method_name</span>]&#x000A;        &#x000A;        <span class="ruby-comment cmt"># Dates are always in UTC</span>&#x000A;        <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">date_fields</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method_sym</span>))&#x000A;          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-node">&quot;#{value} +0000&quot;</span>)&#x000A;        <span class="ruby-keyword kw">elsif</span> (<span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">boolean_fields</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method_sym</span>))&#x000A;          <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@item</span>[<span class="ruby-identifier">method_sym</span>.<span class="ruby-identifier">to_s</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;true&quot;</span>&#x000A;        <span class="ruby-keyword kw">elsif</span> (<span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">integer_fields</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method_sym</span>))&#x000A;          <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_i</span>&#x000A;        <span class="ruby-keyword kw">end</span>&#x000A;        &#x000A;        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000042'>
                <a name='M000042'></a>
                <div class='synopsis'>
                  <span class='name'>players</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Gets the list of players for this item.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Array:</td><td>An array of <tt>Episodic::Platform::PlayerItem</tt> objects.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000042-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000042-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 372</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">players</span>&#x000A;        <span class="ruby-ivar">@players</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">nested_items</span>(<span class="ruby-value str">&quot;players&quot;</span>, <span class="ruby-value str">&quot;player&quot;</span>, <span class="ruby-constant">PlayerItem</span>)&#x000A;        <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@players</span>&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000044'>
                <a name='M000044'></a>
                <div class='synopsis'>
                  <span class='name'>respond_to?</span>
                  <span class='arguments'>(symbol, include_private = false)</span>
                </div>
                <div class='description'>
                  <p>
                  Always return <tt>true</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000044-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000044-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 400</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">symbol</span>, <span class="ruby-identifier">include_private</span> = <span class="ruby-keyword kw">false</span>)&#x000A;        <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span>&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000041'>
                <a name='M000041'></a>
                <div class='synopsis'>
                  <span class='name'>thumbnails</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Gets the list of thumbnails for this item.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Array:</td><td>An array of <tt>Episodic::Platform::ThumbnailItem</tt> objects.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000041-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000041-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 360</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">thumbnails</span>&#x000A;        <span class="ruby-ivar">@thumbnails</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">nested_items</span>(<span class="ruby-value str">&quot;thumbnails&quot;</span>, <span class="ruby-value str">&quot;thumbnail&quot;</span>, <span class="ruby-constant">ThumbnailItem</span>)&#x000A;        <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@thumbnails</span>&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Protected instance methods</h2>
              <div class='method protected-instance' id='method-M000047'>
                <a name='M000047'></a>
                <div class='synopsis'>
                  <span class='name'>boolean_fields</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Should be overridden by subclasses to provide a list of fields that should
                  be converted to a <tt>Boolean</tt> object.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Array:</td><td>A list of field names as symbols.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000047-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000047-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 447</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">boolean_fields</span>&#x000A;        <span class="ruby-keyword kw">return</span> []&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000046'>
                <a name='M000046'></a>
                <div class='synopsis'>
                  <span class='name'>date_fields</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Should be overridden by subclasses to provide a list of fields that should
                  be converted to a <tt>Time</tt> object.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Array:</td><td>A list of field names as symbols.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000046-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000046-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 435</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">date_fields</span>&#x000A;        <span class="ruby-keyword kw">return</span> []&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000048'>
                <a name='M000048'></a>
                <div class='synopsis'>
                  <span class='name'>integer_fields</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Should be overridden by subclasses to provide a list of fields that should
                  be converted to a <tt>Integer</tt> object.
                  </p>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Array:</td><td>A list of field names as symbols.
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000048-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000048-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 459</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">integer_fields</span>&#x000A;        <span class="ruby-keyword kw">return</span> []&#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method protected-instance' id='method-M000045'>
                <a name='M000045'></a>
                <div class='synopsis'>
                  <span class='name'>nested_items</span>
                  <span class='arguments'>(group_name, element_name, clazz)</span>
                </div>
                <div class='description'>
                  <p>
                  Helper method to pull out nested items.
                  </p>
                  <h4>Parameters</h4>
                  <table>
                  <tr><td valign="top">group_name<String>:</td><td>This is something like &#8220;episodes&#8221;.
                  
                  </td></tr>
                  <tr><td valign="top">element_name<String>:</td><td>This is something like &#8220;episode&#8221;.
                  
                  </td></tr>
                  <tr><td valign="top">clazz<Class>:</td><td>This is the class of the item to create (i.e. <a
                  href="EpisodeItem.html">EpisodeItem</a>)
                  
                  </td></tr>
                  </table>
                  <h4>Returns</h4>
                  <table>
                  <tr><td valign="top">Array:</td><td>An array of items of type <tt>clazz</tt>
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000045-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000045-source'><span class="ruby-comment cmt"># File lib/episodic/platform/query_methods.rb, line 419</span>&#x000A;      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nested_items</span> <span class="ruby-identifier">group_name</span>, <span class="ruby-identifier">element_name</span>, <span class="ruby-identifier">clazz</span>&#x000A;        <span class="ruby-keyword kw">if</span> (<span class="ruby-ivar">@item</span>[<span class="ruby-identifier">group_name</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@item</span>[<span class="ruby-identifier">group_name</span>][<span class="ruby-identifier">element_name</span>])&#x000A;          <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@item</span>[<span class="ruby-identifier">group_name</span>][<span class="ruby-identifier">element_name</span>].<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">clazz</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)}&#x000A;        <span class="ruby-keyword kw">else</span>&#x000A;          <span class="ruby-keyword kw">return</span> []&#x000A;        <span class="ruby-keyword kw">end</span>        &#x000A;      <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
